<?php 
namespace common\components; 
use Yii; 
use yii\base\Object;
use common\components\Types; 
use yii\bootstrap\Html;

class ScreeningQuestion extends Object
{

	private $_data; 
	
	
	/* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    public function getQuestions($screening_form_id)
	{
        
        return $this->_getData($screening_form_id); 

	}
	/* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* private functions */ 
    /* ******************************************************************************************************* */ 
   /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
     private  function _getData($screening_form_id)
    {
            return (new \yii\db\Query())
                    ->select([

                        'sq.id as screening_question_id' , 'sq.caption', 
                        'sq.content' , 'sq.input_type_id', 'sq.tristate_option_id',
                        'sq.prefix_text', 'sq.suffix_text' 
                        ])
                    ->from('screening_question sq')
                    ->where('sq.status_id=:status_active AND sq.screening_form_id=:screening_form_id')
                    ->orderBy('sq.sort_order')
                    ->addParams([':status_active'=>Types::$status['active']['id'], 
                                 ':screening_form_id'=>$screening_form_id 
                        ])
                    ->all();

         

    }
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    /* ******************************************************************************************************* */ 
    

}